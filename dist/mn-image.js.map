{"version":3,"sources":["scripts/mn-image.component.js"],"names":["mnImage","setRotation3d","event","bounds","this","getBoundingClientRect","percentX","pageX","left","width","percentY","pageY","top","height","angles","translateY","translateX","style","transform","unsetRotate3d","setImageAttribute","attribute","isDefaultAttribute","hasOwnProperty","attributeValue","element","getAttribute","name","isValidValue","values","indexOf","value","default","image","setAttribute","imageAttributes","document","createElement","map","appendChild","shine","classList","add","addEventListener","prototype","Object","create","HTMLElement","createdCallback","registerElement"],"mappings":"AAAA,YASA,SAASA,WAyBP,QAASC,eAAcC,OACrB,GAAIC,QAASC,KAAKC,wBACdC,UAAYJ,MAAMK,MAAQJ,OAAOK,MAAQL,OAAOM,MAChDC,UAAYR,MAAMS,MAAQR,OAAOS,KAAOT,OAAOU,OAC/CC,OAAS,GACTC,WAAcD,QAAsB,GAAXR,UAAiBQ,OAC1CE,WAAcF,QAAqB,EAAXJ,UAAiBI,MAC7CV,MAAKa,MAAMC,UAAX,iEAGYH,WAHZ,uBAIYC,WAJZ,aAQF,QAASG,iBACPf,KAAKa,MAAMC,UAAY,GAGzB,QAASE,mBAAkBC,WACzB,GAAIC,oBAAqBD,UAAUE,eAAe,WAC9CC,eAAiBC,QAAQC,aAAaL,UAAUM,KAEpD,IAAIL,mBAAoB,CACtB,GAAIM,cAAeP,UAAUE,eAAe,WACvCF,UAAUQ,OAAOC,QAAQN,iBAAmB,EAE7CO,MAAQH,aACRJ,eACAH,UAAUW,OAEdC,OAAMC,aAAab,UAAUM,KAAMI,WAC1BP,iBACTS,MAAMC,aAAab,UAAUM,KAAMH,gBAzDvC,GAAIC,SAAUrB,KAEV+B,kBAEAR,KAAM,QAKNM,MAAQG,SAASC,cAAc,MACnCF,iBAAgBG,IAAIlB,mBACpBK,QAAQc,YAAYN,MAGpB,IAAIO,OAAQJ,SAASC,cAAc,MACnCG,OAAMC,UAAUC,IAAI,SACpBjB,QAAQc,YAAYC,OAEpBf,QAAQkB,iBAAiB,aAAc1C,eACvCwB,QAAQkB,iBAAiB,YAAa1C,eACtCwB,QAAQkB,iBAAiB,aAAc1C,eACvCwB,QAAQkB,iBAAiB,YAAa1C,eACtCwB,QAAQkB,iBAAiB,WAAYxB,eA9BvC,GAAIyB,WAAYC,OAAOC,OAAOC,YAAYH,UAC1CA,WAAUI,gBAAkBhD,QAC5BoC,SAASa,gBAAgB,YACvBL,UAAAA","file":"mn-image.js","sourcesContent":["'use strict';\n\nlet prototype = Object.create(HTMLElement.prototype);\nprototype.createdCallback = mnImage;\ndocument.registerElement('mn-image', {\n  prototype,\n  // extends: 'a',\n});\n\nfunction mnImage() {\n  let element = this;\n\n  let imageAttributes = [\n    {\n      name: 'src',\n    },\n  ];\n\n  // image element\n  let image = document.createElement('img');\n  imageAttributes.map(setImageAttribute);\n  element.appendChild(image);\n\n  // shine element\n  let shine = document.createElement('div');\n  shine.classList.add('shine');\n  element.appendChild(shine);\n\n  element.addEventListener('mouseenter', setRotation3d);\n  element.addEventListener('mousemove', setRotation3d);\n  element.addEventListener('touchstart', setRotation3d);\n  element.addEventListener('touchmove', setRotation3d);\n  element.addEventListener('mouseout', unsetRotate3d);\n\n  function setRotation3d(event) {\n    let bounds = this.getBoundingClientRect();\n    let percentX = (event.pageX - bounds.left) / bounds.width;\n    let percentY = (event.pageY - bounds.top) / bounds.height;\n    let angles = 20;\n    let translateY = (angles * (-percentX * 2)) + angles;\n    let translateX = (angles * (percentY * 2)) - angles;\n    this.style.transform = `\n      scale(1.07)\n      perspective(1000px)\n      rotateY(${translateY}deg)\n      rotateX(${translateX}deg)\n    `;\n  }\n\n  function unsetRotate3d() {\n    this.style.transform = '';\n  }\n\n  function setImageAttribute(attribute) {\n    let isDefaultAttribute = attribute.hasOwnProperty('default');\n    let attributeValue = element.getAttribute(attribute.name);\n\n    if (isDefaultAttribute) {\n      let isValidValue = attribute.hasOwnProperty('values')\n        && attribute.values.indexOf(attributeValue) >= 0;\n\n      let value = isValidValue\n        ? attributeValue\n        : attribute.default;\n\n      image.setAttribute(attribute.name, value);\n    } else if (attributeValue) {\n      image.setAttribute(attribute.name, attributeValue);\n    }\n  }\n}\n"],"sourceRoot":"/source/"}